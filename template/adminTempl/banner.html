{% extends "adminTempl/admin_main.html" %}
{% block content %}

<div class="container-fluid">
    <div class=" mt-5 ">
        <h1 class="text-center">banner table</h1>
    </div>
    <a href="/admin_side/setbanner" class="btn bg-primary text-light mb-2">Set Banner</a>
    <table id="myTable" class="display ">
        <thead>
            <tr>
                <th>image</th>
                <th>product name</th>
                <th>delete</th>
            </tr>
        </thead>

        <tbody>
            {% for i in banner %}
            <tr>
                <td id=""><img src="{{i.bannerimg.url}}" alt="" style="width: 20%;"></td>
                <td>{{i.p_id.product_name}}</td>
                <td>
                    <button class="btn bg-danger text-light del_banner_btn" data-id={{i.id}} >Delete</button>
                </td>
            </tr>
            {% endfor %}

        </tbody>
    </table>
</div>



<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


<style>
    select {
        display: none;
    }
</style>

<script>

    $(document).ready(function () {
        $('#myTable').DataTable();
    });
    // Material Select Initialization
    $(document).ready(function () {
        $('.mdb-select').materialSelect();
    });
</script>

<script>

    $('.del_banner_btn').click(function () {


        Swal.fire({
            title: 'Are you sure?',
            text: "you want to delete this",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes'
        }).then((result) => {
            if (result.isConfirmed) {
                var id = $(this).attr('data-id');
                window.location = "/admin_side/delbanner?b_id=" + id
                
            }
        })

    });
</script>

{% endblock %}